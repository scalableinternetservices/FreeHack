webpackJsonp([0],[function(e,t,a){var s=a(1),n=a(34),r=a(172).Grid,l=a(172).Row,i=a(172).Col,o=a(172).Button,u=a(172).FormGroup,h=a(172).ControlLabel,d=a(172).FormControl,m=a(172).Alert,c="register",g="login",p="/auth/",f=s.createClass({displayName:"LogInPage",getInitialState:function(){return{authState:c,loading:!1,errors:""}},toggleAuthState:function(){this.state.authState==c?this.setState({authState:g}):this.setState({authState:c})},registerUser:function(e,t,a){this.setState({loading:!0,errors:""});var s={email:e,password:t,password_confirmation:a};$.ajax({url:p,dataType:"json",method:"post",data:s,cache:!1,success:function(e){this.setState({loading:!1}),"success"===e.status&&window.open("/frontpage")}.bind(this),error:function(e,t,a){this.setState({loading:!1});var s=$.parseJSON(e.responseText);if(null!==s.errors&&null!==s.errors.full_messages){var n=s.errors.full_messages,r="";for(var l in n)r+=n[l]+"\n";this.setState({errors:r})}}.bind(this)})},logInUser:function(e,t){this.setState({loading:!0,errors:""})},render:function(){return s.createElement("div",{className:"logInPage",style:{textAlign:"center"}},s.createElement(r,null,s.createElement(l,null,s.createElement(i,{xs:12,md:4,mdPush:4},this.state.errors.length>0?s.createElement(m,{bsStyle:"danger"},s.createElement("h4",null,"Error"),s.createElement("p",null,this.state.errors)):null,this.state.authState==c?s.createElement(E,{registerUser:this.registerUser,loading:this.state.loading}):s.createElement(S,{logInUser:this.logInUser,loading:this.state.loading}),s.createElement("br",null),s.createElement("br",null),s.createElement("a",{onClick:this.toggleAuthState},this.state.authState==c?"Log In":"Register")))))}}),E=s.createClass({displayName:"Register",getInitialState:function(){return{emailValue:"",passwordValue:"",passwordConfirmationValue:""}},handleSubmit:function(e){e.preventDefault(),"success"==this.emailSatisfied(this.state.emailValue)&&"success"==this.passwordSatisfied(this.state.passwordValue)&&"success"==this.passwordConfirmationSatisfied(this.state.passwordConfirmationValue)&&this.props.registerUser(this.state.emailValue,this.state.passwordValue,this.state.passwordConfirmationValue)},handleEmailChange:function(e){this.setState({emailValue:e.target.value})},emailSatisfied:function(e){return e.length>5?"success":"error"},handlePasswordChange:function(e){this.setState({passwordValue:e.target.value})},passwordSatisfied:function(e){return e.length>5?"success":"error"},handlePasswordConfirmationChange:function(e){this.setState({passwordConfirmationValue:e.target.value})},passwordConfirmationSatisfied:function(e){return e==this.state.passwordValue?"success":"error"},render:function(){return s.createElement("div",{className:"register"},s.createElement("h2",null,"Register"),s.createElement("br",null),s.createElement("form",{className:"form-horizontal",onSubmit:this.handleSubmit},s.createElement(u,{controlId:"formBasicText",validationState:this.emailSatisfied(this.state.emailValue)},s.createElement(h,null,"Email"),s.createElement(d,{type:"text",value:this.state.emailValue,placeholder:"Enter Email",onChange:this.handleEmailChange}),this.state.emailValue.length>0?s.createElement(d.Feedback,null):null),s.createElement(u,{controlId:"formBasicText",validationState:this.passwordSatisfied(this.state.passwordValue)},s.createElement(h,null,"Password"),s.createElement(d,{type:"text",value:this.state.passwordValue,placeholder:"Enter Password",onChange:this.handlePasswordChange}),this.state.passwordValue.length>0?s.createElement(d.Feedback,null):null),s.createElement(u,{controlId:"formBasicText",validationState:this.passwordConfirmationSatisfied(this.state.passwordConfirmationValue)},s.createElement(h,null,"Confirm Password"),s.createElement(d,{type:"text",value:this.state.passwordConfirmationValue,placeholder:"Enter Password Again",onChange:this.handlePasswordConfirmationChange}),this.state.passwordConfirmationValue.length>0?s.createElement(d.Feedback,null):null),s.createElement(o,{type:"submit",disabled:this.props.loading},"Submit")))}}),S=s.createClass({displayName:"LogIn",getInitialState:function(){return{emailValue:"",passwordValue:""}},handleSubmit:function(e){e.preventDefault(),this.props.logInUser(this.state.emailValue,this.state.passwordValue)},handleEmailChange:function(e){this.setState({emailValue:e.target.value})},handlePasswordChange:function(e){this.setState({passwordValue:e.target.value})},render:function(){return s.createElement("div",{className:"logIn"},s.createElement("h2",null,"Log In"),s.createElement("br",null),s.createElement("form",{className:"form-horizontal",onSubmit:this.handleSubmit},s.createElement(u,{controlId:"formBasicText"},s.createElement(h,null,"Email"),s.createElement(d,{type:"text",value:this.state.emailValue,placeholder:"Enter Email",onChange:this.handleEmailChange})),s.createElement(u,{controlId:"formBasicText"},s.createElement(h,null,"Password"),s.createElement(d,{type:"text",value:this.state.passwordValue,placeholder:"Enter Password",onChange:this.handlePasswordChange})),s.createElement(o,{type:"submit",disabled:this.props.loading},"Submit")))}});n.render(s.createElement(f,null),document.getElementById("content"))}]);